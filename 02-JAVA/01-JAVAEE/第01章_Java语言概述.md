# 1 java语言简史

## 1.1 Java语言简史

**起步阶段：**

1991年，Sun公司的工程师小组想要设计一种语言，应用在电视机、电话、闹钟、烤面包机等家用电器的控制和通信。由于这些设备的处理能力和内存都很有限，并且不同的厂商会选择不同的中央处理器(CPU)，因此这种语言的关键是代码短小、紧凑且与平台无关（即不能与任何特定的体系结构捆绑在一起）。

Gosling团队率先创造了这个语言，并命名为“Oak"（起名的原因是因为他非常喜欢自己办公室外的橡树)。后因智能化家电的市场需求没有预期的高，Sun公司放弃了该项计划。

随着20世纪90年代互联网的发展，Sun公司发现该语言在互联网上应用的前景，于是改造了Oak，于1995年5月以Java的名称正式发布。（Java是印度尼西亚爪哇岛的英文名称，因盛产咖啡而闻名。）

![image-20220309230839100](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211654711.png)

**发展阶段：**

| 发行版本          | 发行时间           | 备注                                              |
| ------------- | -------------- | ----------------------------------------------- |
| Java 1.0      | 1996.01.23     | Sun公司发布了Java的第一个开发工具包                           |
| Java 1.1      | 1997.02.19     | JavaOne会议召开，创当时全球同类会议规模之最。                      |
| Java 1.2      | 1998.12.08     | Java拆分成：J2SE（标准版）、J2EE（企业版）、J2ME（小型版）           |
| Java 1.3      | 2000.05.08     |                                                 |
| Java1.4       | 2004.02.06     |                                                 |
| **Java 5.0**  | **2004.09.30** | **①版本号从1.4直接更新至5.0；②平台更名为JavaSE、JavaEE、JavaME** |
| Java 6.0      | 2006.12.11     | 2009.04.20 Oracle宣布收购SUN公司                      |
|               | 2009.04.20     | Oracle公司收购SUN，交易价格`74亿`美元。                      |
| Java 7.0      | 2011.07.02     |                                                 |
| **Java 8.0**  | **2014.03.18** | **此版本是继Java 5.0以来变化最大的版本。是长期支持版本（LTS）**         |
| Java 9.0      | 2017.09.22     | ①此版本开始，**每半年更新一次**；②Java 9.0开始不再支持windows 32位系统 |
| Java 10.0     | 2018.03.21     |                                                 |
| **Java 11.0** | **2018.09.25** | **JDK安装包取消独立JRE安装包，是长期支持版本（LTS）**               |
| Java 12.0     | 2019.03.19     |                                                 |
| ...           | ...            |                                                 |
| **Java17.0**  | **2021.09**    | **发布Java 17.0，版本号也称为21.9，是长期支持版本。**             |
| ...           | ...            |                                                 |
| Java19.0      | 2022.09        | 发布Java19.0，版本号也称为22.9。                          |

## 1.2常用的DOS命令

DOS（Disk Operating System，磁盘操作系统）是Microsoft公司在Windows之前推出的一个操作系统，是单用户、单任务（即只能执行一个任务）的操作系统。现在被Windows系统取代。

##**常用指令：**

- 操作1：进入和回退

| 操作            | 说明                         |
| ------------- | -------------------------- |
| 盘符名称:         | 盘符切换。E:回车，表示切换到E盘。         |
| dir           | 列出当前目录下的文件以及文件夹            |
| cd 目录         | 进入指定单级目录。                  |
| cd 目录1\目录2... | 进入指定多级目录。cd atguigu\JavaSE |
| cd ..         | 回退到上一级目录。                  |
| cd \ 或 cd /   | 回退到盘符目录。                   |

- 操作2：增、删

| 操作       | 说明                        |
| -------- | ------------------------- |
| md 文件目录名 | 创建指定的文件目录。                |
| rd 文件目录名 | 删除指定的文件目录（如文件目录内有数据，删除失败） |

- 操作3：其它

| 操作                | 说明         |
| ----------------- | ---------- |
| cls               | 清屏。        |
| exit              | 退出命令提示符窗口。 |
| ← →               | 移动光标       |
| ↑ ↓               | 调阅历史操作命令   |
| Delete和Backspace  | 删除字符       |
| ## 1.3 Java技术体系平台 |            |

- **Java SE(Java Standard Edition)标准版**

  - 支持面向桌面级应用（如Windows下的应用程序）的Java平台，即定位个人计算机的应用开发。

  - 包括用户界面接口AWT及Swing，网络功能与国际化、图像处理能力以及输入输出支持等。

  - 此版本以前称为J2SE
- **Java EE(Java Enterprise Edition)企业版**

  - 为开发企业环境下的应用程序提供的一套解决方案，即定位在服务器端的Web应用开发。

  - JavaEE是JavaSE的扩展，增加了用于服务器开发的类库。如：Servlet能够延伸服务器的功能，通过请求-响应的模式来处理客户端的请求；JSP是一种可以将Java程序代码内嵌在网页内的技术。

  - 版本以前称为J2EE
- **Java ME(Java Micro Edition)小型版**

  - 支持Java程序运行在移动终端（手机、机顶盒）上的平台，即定位在消费性电子产品的应用开发

  - JavaME是JavaSE的内伸，精简了JavaSE 的核心类库，同时也提供自己的扩展类。增加了适合微小装置的类库：javax.microedition.io.*等。

  - 此版本以前称为J2ME

![image-20211218093009884](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211654712.png)

> 注意：
>
> Android开发不等同于Java ME的开发

### 1.3.1 什么是JDK、JRE

- **JDK** (Java Development Kit)：是Java程序开发工具包，包含JRE和开发人员使用的工具。

- **JRE** (Java Runtime Environment) ：是Java程序的运行时环境，包含`JVM` 和运行时所需要的核心类库。

如下是Java 8.0 Platform：

![](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211654713.jpg)

![image-20220310200731185](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211654714.png)

> 小结：
>
> JDK = JRE + 开发工具集（例如Javac编译工具等）
>
> JRE = JVM + Java SE标准类库

# 2 开发步骤

Java程序开发三步骤：**编写**、**编译**、**运行**。

- 将 Java 代码**编写**到扩展名为 .java 的源文件中

- 通过 javac.exe 命令对该 java 文件进行**编译**，生成一个或多个字节码文件

- 通过 java.exe 命令对生成的 class 文件进行**运行**

![image-20220310230210728](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211654734.png)

## 2.1 源文件名与类名

（1）源文件名是否必须与类名一致？public呢？

如果这个类不是public，那么源文件名可以和类名不一致。但是不便于代码维护。\
如果这个类是public，那么要求源文件名必须与类名一致。否则编译报错。\
​\
我们建议大家，不管是否是public，都与源文件名保持一致，而且一个源文件尽量只写一个类，目的是为了好维护。

（2）一个源文件中是否可以有多个类？public呢？

一个源文件中可以有多个类，编译后会生成多个.class字节码文件。\
​\
但是一个源文件只能有一个public的类。

## 2.2 注释

- Java中的注释类型：

  - 单行注释

    //注释文字

  - 多行注释

    ```java
	/*
    注释文字1
    注释文字2
    注释文字3
    */
  ```

  - 文档注释 (Java特有)
	```java
	/**
    @author  指定java程序的作者
    @version  指定源文件的版本
	*/
```

- 注释的作用

  - 它提升了程序的可阅读性。（不加注释的危害性，见图。）

  - 调试程序的重要方法。

# 3Java核心机制：JVM

## 3.1 Java语言的优缺点

Java确实是从C语言和C++语言继承了许多成份，甚至可以将Java看成是类C语言发展和衍生的产物。“青出于蓝，而胜于蓝”。

### 3.1.1 优点

- **跨平台性** ：这是Java6的核心优势。Java在最初设计时就很注重移植和跨平台性。比如：Java的int永远都是32位。不像C++可能是16，32，可能是根据编译器厂商规定的变化。

- 通过Java语言编写的应用程序在不同的系统平台上都可以运行。"Write once , Run Anywhere"。

- 原理：只要在需要运行 java 应用程序的操作系统上，先安装一个Java虚拟机 (JVM ，Java Virtual Machine) 即可。由JVM来负责Java程序在该系统中的运行。

![JVM的跨平台性](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211658156.jpg)

![image-20211217111217831](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211658157.png)

- **面向对象性：**

  面向对象是一种程序设计技术，非常适合大型软件的设计和开发。面向对象编程支持封装、继承、多态等特性，让程序更好达到`高内聚`，`低耦合`的标准。

- **健壮性：**吸收了C/C++语言的优点，但去掉了其影响程序健壮性的部分（如指针、内存的申请与释放等），提供了一个相对安全的内存管理和访问机制。

- **安全性高：**

  Java适合于网络/分布式环境，需要提供一个安全机制以防恶意代码的攻击。如：安全防范机制（ClassLoader类加载器），可以分配不同的命名空间以防替代本地的同名类、字节代码检查。

- **简单性：**

  Java就是C++语法的简化版，我们也可以将Java称之为“C++--”。比如：头文件，指针运算，结构，联合，操作符重载，虚基类等。

- **高性能：**

  - Java最初发展阶段，总是被人诟病“`性能低`”；客观上，高级语言运行效率总是低于低级语言的，这个无法避免。Java语言本身发展中通过虚拟机的优化提升了几十倍运行效率。比如，通过JIT(JUST IN TIME)即时编译技术提高运行效率。

  - Java低性能的短腿，已经被完全解决了。业界发展上，我们也看到很多C++应用转到Java开发，很多C++程序员转型为Java程序员。

#### 14.1.2 缺点

- 语法过于复杂、严谨，对程序员的约束比较多，与python、php等相比入门较难。但是一旦学会了，就业岗位需求量大，而且薪资待遇节节攀升。

- 一般适用于大型网站开发，整个架构会比较重，对于初创公司开发和维护人员的成本比较高（即薪资高），选择用Java语言开发网站或应用系统的需要一定的经济实力。

- 并非适用于所有领域。比如，Objective C、Swift在iOS设备上就有着无可取代的地位。浏览器中的处理几乎完全由JavaScript掌控。Windows程序通常都用C++或C#编写。Java在服务器端编程和跨平台客户端应用领域则很有优势。

## 3.2 JVM功能说明

**JVM**（Java Virtual Machine ，Java虚拟机）：是一个虚拟的计算机，是Java程序的运行环境。JVM具有指令集并使用不同的存储区域，负责执行指令，管理数据、内存、寄存器。

![image-20220310165805739](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211658158.png)

### 3.2.1 功能1：实现Java程序的跨平台性

我们编写的Java代码，都运行在**JVM** 之上。正是因为有了JVM，才使得Java程序具备了跨平台性。

![image-20220513191856727](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211658159.png)

使用JVM前后对比：

![image-20220514151716805](https://raw.githubusercontent.com/sameal153/PicturePool/master/img/202310211658160.png)

### 3.2.2 功能2：自动内存管理(内存分配、内存回收)

- Java程序在运行过程中，涉及到运算的数据的分配、存储等都由JVM来完成

- Java消除了程序员回收无用内存空间的职责。提供了一种系统级线程跟踪存储空间的分配情况，在内存空间达到相应阈值时，检查并释放可被释放的存储器空间。

- GC的自动回收，提高了内存空间的利用效率，也提高了编程人员的效率，很大程度上减少了因为没有释放空间而导致的内存泄漏。

> 面试题：
>
> Java程序还会出现内存溢出和内存泄漏问题吗？ Yes!